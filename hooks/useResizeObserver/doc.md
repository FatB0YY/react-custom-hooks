# useResizeObserver

Хук `useResizeObserver` предназначен для удобного подключения и отключения нативного ResizeObserver к DOM-элементу в React-компоненте. Он принимает callback-функцию `onResize`, которая будет вызываться при изменении размеров элемента. Хук возвращает `ref callback`, который можно присвоить атрибуту ref в JSX, и он автоматически создаст наблюдателя, когда элемент будет примонтирован, а также отключит его при размонтировании.

## Разбор работы хука:

Главная особенность в том, что `Ref callback` вызывается с `null` при размонтировании элемента. Это автоматически приводит к вызову `detachResizeObserver`, что предотвращает утечки памяти и продолжение работы наблюдателя после удаления элемента.

То есть каждый раз когда элемент будет размонтирован и снова монтирован, то все будет работать верно и ResizeObserver подключится заново к элементу

Главное преимущество данного хука в том, что он использует `callback-ref`, а не обычный `ref`. `Callback-ref` позволяет `React` автоматически передавать `null` при размонтировании элемента, что инициирует вызов функции для отключения `ResizeObserver`. Это гарантирует, что логика работы наблюдателя остаётся корректной и предотвращаются утечки памяти даже при повторном монтировании и размонтировании элемента.
